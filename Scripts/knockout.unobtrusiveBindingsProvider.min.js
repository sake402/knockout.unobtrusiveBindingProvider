var _this=this;(function(n){var u=function(){function i(n,t){this.name=n;this.value=t}return i.prototype.toString=function(i){var e=this.value,s=i.nodeName.toLowerCase(),r,u,f,o;if(!e||e.ignore)return void 0;if(r="text",u=e.binding,u)typeof e!="function"||n.isObservable(e)||(u="event:{"+u,this.name+="}"),r=u;else{switch(s){case"input":case"select":r="value"}f=e;n.isObservable(f)&&(f=f.peek());f.push?r=s==="select"?"selectedOptions":"foreach":typeof f=="function"?r="click":typeof f=="boolean"?(o=i.type,r=o==="checkbox"||o==="radio"?"checked":"visible"):typeof f=="object"&&r==="text"&&(r="with")}return u=e.bindings,u&&(typeof u!="string"&&(u=t.from(u)),r=u+","+r),r+":"+this.name},i}(),t=function(){function t(){}return t.find=function(t,i){var f,r,s,c,o,e,h;if(!t)return null;for(f="",r=void 0,s=0,c=i.length;s<c&&r===void 0;s++)if(f=i[s],f&&(r=t[f],r===void 0))if(/-/.test(f)){for(o=f.split("-"),e=0,h=o.length;e<h;e++)if(f=o[e],r=t[f],r===void 0)break;else if(n.isObservable(r))e<h-1&&(o[e]+="()"),t=n.unwrap(r);else if(e<h-1)if(typeof r=="object")t=r;else{r=void 0;break}f=o.join(".")}else f==="item"&&typeof t!="object"&&(f="$data",r=t);return r===void 0?null:new u(f,r)},t.from=function(t){return typeof t=="string"?t:(t=n.toJSON(t).replace(/\{"|,"|"[:]/gi,function(n){return n.replace(/"/,"")})).substr(1,t.length-2)},t}(),i=document&&document.createComment("test").text==="<!--test-->",r;Object.defineProperty(Node.prototype,"classNames",{get:function(){return this.className.trim().replace(/(\s|\u00A0){2,}/g," ").split(/(\s|\u00A0)/g).filter(function(n){return n!==" "})}});Object.defineProperty(Node.prototype,"path",{get:function(){var n=this.nodeName.toLowerCase(),t;return this.id&&(n+="#"+this.id),this.className&&(n+="."+this.classNames.join(".")),this.name&&(n+="?"+this.name),t=this.parentNode.path,t&&(t+="/"),t+n}});Object.defineProperty(Comment.prototype,"path",{get:function(){var t="<!--"+(i?this.text:this.nodeValue)+"-->",n=this.parentNode.path;return n&&(n+="/"),n+t}});Object.defineProperty(Comment.prototype,"targets",{get:function(){return[n.virtualElements.virtualNodeBindingValue(this)]}});Object.defineProperty(Comment.prototype,"text",{get:function(){return i?this.text:this.nodeValue}});Object.defineProperty(HTMLBodyElement.prototype,"path",{get:function(){return""}});Object.defineProperty(HTMLElement.prototype,"targets",{get:function(){var n=[];return this.id&&n.push(this.id),this.name&&n.push(this.name),this.className&&(n=n.concat(this.classNames)),n}});r={};Node.prototype.getBindingsString=function(i){var h,f,o,c,u,e,s;if([1,8].indexOf(this.nodeType)!==-1)return h=this.path,f=r[h],f===void 0&&(o=this.targets,o.length&&(c=void 0,u=t.find(n.bindings,o),u&&(e=u.value,e.bindings&&(c=e.override,e=e.bindings),f=t.from(e)),c||(u=t.find(i.$data,o),u||i.$parents.forEach(function(n,i){u=t.find(n,o);u&&(u.name="$parents["+i+"]."+u.name)}),u&&(s=u.toString(this),s&&f?f+=","+s:f=s))),r[h]=f||null),this.nodeType!==8&&f&&n.debug&&this.setAttribute("data-bind",f),f};n.debug=location.hostname==="localhost"||location.protocol==="file:",function(t){n.utils.extend(t,{binding:function(t,i){return n.utils.extend(t,{binding:i})},bindings:function(t,i){return n.utils.extend(t,{bindings:i})},ignore:function(t,i){return n.utils.extend(t,{ignore:i})}})}(n.extenders),function(t){t.getBindingsString=function(n,t){return n.getBindingsString(t)};t.nodeHasBindings=function(t){return t.nodeType===1&&(t.id||t.name||t.className)||t.nodeType===8&&n.virtualElements.hasBindingValue(t)}}(n.bindingProvider.instance),function(t){var f=i?/^\x3c!--\s*data\[(?:([a-zA-Z]\w*))\]\s*--\x3e$/:/^\s*data\[(?:([a-zA-Z]\w*))\]\s*$/,o=i?/^\x3c!--\s*\/data\s*--\x3e$/:/^\s*\/data\s*$/,r=function(n){return n.nodeType===8&&f.test(n.text)},u=function(n){return n.nodeType===8&&o.test(n.text)},e=function(n,t){t===void 0&&(t=!0);for(var i=n,f=1,e=[];i=i.nextSibling;){if(u(i)&&(f--,f===0))return e;e.push(i);r(i)&&f++}if(!t)throw new Error("Cannot find closing comment tag to match: "+n.nodeValue);return null},s=function(n,t){t===void 0&&(t=!1);var i=e(n,t);return i?i.length>0?i[i.length-1].nextSibling:n.nextSibling:null};t.childNodes=function(n){return r(n)?e(n):n.childNodes};t.emptyNode=function(t){var u,i,f;if(r(t))for(u=_this.childNodes(t),i=0,f=u.length;i<f;i++)n.removeNode(u[i]);else n.utils.emptyDomNode(t)};t.setDomNodeChildren=function(t,i){var f,u,e;if(r(t))for(n.virtualElements.emptyNode(t),f=t.nextSibling,u=0,e=i.length;u<e;u++)f.parentNode.insertBefore(i[u],f);else n.utils.setDomNodeChildren(t,i)};t.prepend=function(n,t){r(n)?n.parentNode.insertBefore(t,n.nextSibling):n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)};t.Fb=t.insertAfter=function(t,i,u){u?r(t)?t.parentNode.insertBefore(i,u.nextSibling):u.nextSibling?t.insertBefore(i,u.nextSibling):t.appendChild(i):n.virtualElements.prepend(t,i)};t.firstChild=function(n){return r(n)?!n.nextSibling||u(n.nextSibling)?null:n.nextSibling:n.firstChild};t.nextSibling=function(n){return(r(n)&&(n=s(n)),n.nextSibling&&u(n.nextSibling))?null:n.nextSibling};t.hasBindingValue=r;t.virtualNodeBindingValue=function(n){var t=n.text.match(f);return t?t[1]:null}}(n.virtualElements)})(ko);