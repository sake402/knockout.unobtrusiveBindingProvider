var _this=this;(function(n){var f=function(){function t(n,t){this.name=n;this.value=t}return t.prototype.toString=function(t){var f=this.value,o=t.nodeName.toLowerCase(),i,r,u,e;if(!f||f.ignore)return"";if(i="text",r=f.binding,r)typeof f!="function"||n.isObservable(f)||(r="event:{"+r,this.name+="}"),i=r;else{switch(o){case"input":case"select":i="value"}u=f;n.isObservable(u)&&(u=u.peek());u.push?i=o==="select"?"selectedOptions":"foreach":typeof u=="function"?i="click":typeof u=="boolean"?(e=t.type,i=e==="checkbox"||e==="radio"?"checked":"visible"):typeof u=="object"&&i==="text"&&(i="with")}return r=f.bindings,r&&(i=r+","+i),i+":"+this.name},t}(),i=function(){function t(){}return t.find=function(t,i){var r,e,u,o;if(!t)return null;if(r=void 0,i)if(r=t[i],/-/.test(i)){for(e=i.split("-"),u=0,o=e.length;u<o;u++)if(i=e[u],r=t[i],r===void 0)break;else if(n.isObservable(r))u<o-1&&(e[u]+="()"),t=n.unwrap(r);else if(u<o-1)if(typeof r=="object")t=r;else{r=void 0;break}i=e.join(".")}else i==="item"&&typeof t!="object"&&(i="$data",r=t);return r===void 0?null:new f(i,r)},t}(),r=function(n){return n!==void 0&&n!==null&&n!==""},t=document&&document.createComment("test").text==="<!--test-->",u;Object.defineProperty(Node.prototype,"classNames",{get:function(){return this.className.trim().replace(/(\s|\u00A0){2,}/g," ").split(/(\s|\u00A0)/g).filter(function(n){return n!==" "})}});Object.defineProperty(Node.prototype,"path",{get:function(){var n=this.nodeName.toLowerCase(),t;return this.id&&(n+="#"+this.id),this.className&&(n+="."+this.classNames.join(".")),this.name&&(n+="?"+this.name),t=this.parentNode.path,t&&(t+="/"),t+n}});Object.defineProperty(Comment.prototype,"path",{get:function(){var i="<!--"+(t?this.text:this.nodeValue)+"-->",n=this.parentNode.path;return n&&(n+="/"),n+i}});Object.defineProperty(Comment.prototype,"targets",{get:function(){return[n.virtualElements.virtualNodeBindingValue(this)]}});Object.defineProperty(Comment.prototype,"text",{get:function(){return t?this.text:this.nodeValue}});Object.defineProperty(HTMLBodyElement.prototype,"path",{get:function(){return""}});Object.defineProperty(HTMLElement.prototype,"targets",{get:function(){var n=[];return this.id&&n.push(this.id),this.name&&n.push(this.name),this.className&&(n=n.concat(this.classNames)),n}});u={};Node.prototype.getBindingsString=function(t){var a,f,s,c,e,v,r,o,y,h,l;if([1,8].indexOf(this.nodeType)!==-1){if(a=this.path,f=u[a],f===void 0){for(s=this.targets,c=[],e=0;e<s.length;e++){if(v=void 0,r=i.find(n.bindings,s[e]),r&&(o=r.value,o.bindings&&(v=o.override,o=o.bindings),f=o),v)break;if(r=i.find(t.$data,s[e]),!r)for(y=t.$parents,h=0;h<y.length;h++)if(r=i.find(y[h],s[e]),r){r.name="$parents["+h+"]."+r.name;break}r&&c.push(r.toString(this))}c.length&&(l=c.join(),l&&f?f+=","+l:f=l);u[a]=f||null}return this.nodeType!==8&&f&&n.debug&&this.setAttribute("data-bind",f),f}return void 0};n.debug=location.hostname==="localhost"||location.protocol==="file:",function(t){n.utils.extend(t,{binding:function(t,i){return n.utils.extend(t,{binding:i})},bindings:function(t,i){return n.utils.extend(t,{bindings:i})},ignore:function(t,i){return n.utils.extend(t,{ignore:i})}})}(n.extenders),function(t){t.getBindingsString=function(n,t){return n.getBindingsString(t)};t.nodeHasBindings=function(t){return t.nodeType===1&&(r(t.id)||r(t.name)||r(t.className))||t.nodeType===8&&n.virtualElements.hasBindingValue(t)}}(n.bindingProvider.instance),function(i){var f=t?/^\x3c!--\s*(?:([a-zA-Z]\w*))\:\s*--\x3e$/:/^\s*(?:([a-zA-Z]\w*))\:\s*$/,e=t?/^\x3c!--\s*\/(?:([a-zA-Z]\w*))\s*--\x3e$/:/^\s*\/(?:([a-zA-Z]\w*))\s*$/,r=function(n){return n.nodeType===8&&f.test(n.text)},u=function(n,t){return n.nodeType===8&&e.test(n.text)&&i.virtualNodeBindingValue(n,e)===i.virtualNodeBindingValue(t)},o=function(t,i){i===void 0&&(i=!1);for(var f=t,e=1,o=[];f=f.nextSibling;){if(u(f,t)&&(e--,e===0))return o;o.push(f);r(f)&&e++}if(!i)throw new Error("Cannot find closing comment tag to match: "+n.virtualElements.virtualNodeBindingValue(t));return null},s=function(n,t){t===void 0&&(t=!1);var i=o(n,t);return i?i.length>0?i[i.length-1].nextSibling:n.nextSibling:null};i.childNodes=function(n){return r(n)?o(n):n.childNodes};i.emptyNode=function(t){var u,i,f;if(r(t))for(u=_this.childNodes(t),i=0,f=u.length;i<f;i++)n.removeNode(u[i]);else n.utils.emptyDomNode(t)};i.setDomNodeChildren=function(t,i){var f,u,e;if(r(t))for(n.virtualElements.emptyNode(t),f=t.nextSibling,u=0,e=i.length;u<e;u++)f.parentNode.insertBefore(i[u],f);else n.utils.setDomNodeChildren(t,i)};i.prepend=function(n,t){r(n)?n.parentNode.insertBefore(t,n.nextSibling):n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)};i.Fb=i.insertAfter=function(t,i,u){u?r(t)?t.parentNode.insertBefore(i,u.nextSibling):u.nextSibling?t.insertBefore(i,u.nextSibling):t.appendChild(i):n.virtualElements.prepend(t,i)};i.firstChild=function(n){return r(n)?!n.nextSibling||u(n.nextSibling,n)?null:n.nextSibling:n.firstChild};i.nextSibling=function(n){var t=null;return(r(n)&&(t=n,n=s(t)),n.nextSibling&&u(n.nextSibling,t))?null:n.nextSibling};i.hasBindingValue=r;i.virtualNodeBindingValue=function(n,t){var i=n&&n.text.match(t||f);return i?i[1]:null}}(n.virtualElements)})(ko);